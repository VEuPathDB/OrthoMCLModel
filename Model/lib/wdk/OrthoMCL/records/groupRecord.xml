<?xml version="1.0" encoding="UTF-8"?>
<wdkModel>
    <recordClassSet name="GroupRecordClasses">
    
        <recordClass name="GroupRecordClass"
                     urlName="group"
               displayName="Ortholog Group">
            
            <testParamValues>
               <paramValue name="group_name">9644248</paramValue>
            </testParamValues>
        
      <!-- =============================================================== -->
      <!-- Reporters -->  
      <!-- =============================================================== -->
 
      <reporter name="attributesTabular" displayName="%%attributesReporterDisplayName%%" scopes="results"
                implementation="org.gusdb.wdk.model.report.reporter.AttributesTabularReporter">
        <property name="page_size">500</property>
      </reporter>

      <reporter name="tableTabular" displayName="%%tableReporterDisplayName%%" scopes="results"
                implementation="org.gusdb.wdk.model.report.reporter.TableTabularReporter">
      </reporter>


<!-- copied from apicommonshared  genomicRecord.xml -->
<!--  
     <reporter name="tabular" displayName="Tab/Excel: summary" scopes="results,record" 
                      implementation="org.gusdb.wdk.model.report.reporter.AttributesTabularReporter">
     </reporter>
-->
  
     <reporter name="fullRecord" displayName="%%fullReporterDisplayName%%" excludeProjects="EuPathDB"  scopes="record"
                implementation="org.gusdb.wdk.model.report.reporter.FullRecordReporter" />

      <reporter name="xml" displayName="XML: choose from columns and/or tables" excludeProjects="EuPathDB"  scopes=""
                    implementation="org.gusdb.wdk.model.report.reporter.XMLReporter" />

      <reporter name="json" displayName="json: choose from columns and/or tables" excludeProjects="EuPathDB"  scopes=""
                    implementation="org.gusdb.wdk.model.report.reporter.JSONReporter" />

      <reporter name="fasta" displayName="FASTA: protein sequence" scopes="record,results"
                implementation="org.orthomcl.service.core.report.GroupFastaReporter"/>


      <!-- =============================================================== -->
      <!-- Views -->
      <!-- =============================================================== -->

<!--
            <summaryView name="phyletic" display="Phyletic pattern"/>
            <recordView name="_default" display="Sequences &amp; Statistics"/>
            <recordView name="pfam-domain-graph" display="PFam domains (graphic)"/>
            <recordView name="pfam-domain-list" display="PFam domains (details)"/>
            <recordView name="msa" display="MSA"/>
            <recordView name="layout" display="Cluster graph"/>

-->

      <!-- =============================================================== -->
      <!--  Default summary attributes and sorting attributes -->  
      <!-- =============================================================== -->

         <attributesList
           summary="number_of_members,keywords,descriptions,ec_numbers,archaea,bacteria,alveolata,amoeba,euglenozoa,fungi,metazoa,viridiplantae,other_eukaryotes"

           sorting="number_of_members DESC"/>

      <!-- =============================================================== -->
      <!-- Attributes -->  
      <!-- =============================================================== -->

<!--
            <favorite noteField="group_name" />
-->
             
            <primaryKey aliasPluginClassName="org.gusdb.wdk.model.record.GenericRecordPrimaryKeyAliasPlugin">
                <columnRef>group_name</columnRef>
            </primaryKey>


            <idAttribute name="primary_key" displayName="Ortholog Group">
                <text>
                    <![CDATA[
                    $$group_name$$
                    ]]>
                </text>
            </idAttribute>



            <attributeQueryRef ref="GroupAttributes.GroupAttrs">  

                <columnAttribute name="number_of_members" internal="false" displayName="Total Number Proteins">
                  <reporter name="histogram" displayName="Histogram" scopes=""
                            implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter">
                    <description>Display the histogram of the values of this attribute</description>
                  </reporter>
                </columnAttribute>
                <columnAttribute name="number_of_peripheral_members" internal="false" displayName="Number of Peripheral Proteins">
                  <reporter name="histogram" displayName="Histogram" scopes=""
                            implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter">
                    <description>Display the histogram of the values of this attribute</description>
                  </reporter>
                </columnAttribute>
                <columnAttribute name="number_of_core_members" internal="false" displayName="Number of Peripheral Proteins">
                  <reporter name="histogram" displayName="Histogram" scopes=""
                            implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter">
                    <description>Display the histogram of the values of this attribute</description>
                  </reporter>
                </columnAttribute>

                <columnAttribute name="group_type" internal="false" displayName="Group Type" help="Core groups are first formed with core proteins and subsequently peripheral proteins are mapped in. Residual groups are formed with peripheral proteins that fail to map to any of the core groups.">
		  <reporter name="wordCloud" displayName="Word Cloud" scopes=""
			    implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
                    <description>
                      <![CDATA[ Display the terms in the attribute as word clouds ]]>
                    </description>
                    <property name="min-word-length">1</property>
                    <property name="exclude-numbers">false</property>
                    <property name="split-pattern"><![CDATA[,]]></property>
		  </reporter>
                </columnAttribute>

<!-- TODO remove these after all changes have been made
                <columnAttribute name="avg_connectivity" displayName="% Homology" help="The percentage of all possible protein pairs where the two proteins are orthologs, co-orthologs, or inparalogs.">
                  <reporter name="histogram" displayName="Histogram" scopes=""
                            implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter">
                    <description>Display the histogram of the values of this attribute</description>
                  </reporter>
                </columnAttribute>
                <columnAttribute name="percent_match_pairs" displayName="% Protein Pairs With Similarity" help="The percent of sequence pairs in a group that have an above-threshold similarity (NCBI BLASTP E-Value is less than 1e-5 and the percent match length is at least 50%).">
                  <reporter name="histogram" displayName="Histogram" scopes=""
                            implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter">
                    <description>Display the histogram of the values of this attribute</description>
                  </reporter>
                </columnAttribute>
               <columnAttribute name="avg_percent_identity" displayName="Average % Identity" help="The % Identity is calculated between two proteins by determining the percentage of residues within the best High-scoring Segment Pair (HSP) that are identical. The Avg % Identity takes the average of all % Identity results in the group.">
                  <reporter name="histogram" displayName="Histogram" scopes=""
                            implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter">
                    <description>Display the histogram of the values of this attribute</description>
                  </reporter>
                </columnAttribute>
                <columnAttribute name="avg_percent_match" displayName="Avg % Match Length" help="The % Match is calculated between two proteins by determining the percentage of the shorter protein sequence that is part of a High-scoring Segment Pair (HSP) with the other protein. The Avg % Match takes the average of all % Match results in the group.">
                  <reporter name="histogram" displayName="Histogram" scopes=""
                            implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter">
                    <description>Display the histogram of the values of this attribute</description>
                  </reporter>
                </columnAttribute>
                <columnAttribute name="evalue_display" displayName="Average BLAST E-value" help="The average BLAST E-value for protein pairs, considering only pairs where the two proteins are considered similar (E-Value less than 1e-5 and percent match length at least 50%)." />
                <columnAttribute name="avg_evalue_mant" displayName="Average BLAST E-value Mantua" internal="true" />
                <columnAttribute name="avg_evalue_exp" displayName="Average BLAST E-value Exponent" internal="true" />
-->

            </attributeQueryRef>




            <attributeQueryRef ref="GroupAttributes.MaxSequenceLength">
                <columnAttribute name="max_length" displayName="Longest Sequence" internal="true" inReportMaker="false" />
            </attributeQueryRef>



            <attributeQueryRef ref="GroupAttributes.PhyleticPattern">
	      <columnAttribute name="alveolata_actual" internal="true" />
	      <columnAttribute name="alveolata_total" internal="true" />
	      <columnAttribute name="alveolata_percent" internal="true" />
	      <columnAttribute name="archaea_actual" internal="true" />
	      <columnAttribute name="archaea_total" internal="true" />
	      <columnAttribute name="archaea_percent" internal="true" />
	      <columnAttribute name="amoeba_actual" internal="true" />
	      <columnAttribute name="amoeba_total" internal="true" />
	      <columnAttribute name="amoeba_percent" internal="true" />
	      <columnAttribute name="bacteria_actual" internal="true" />
	      <columnAttribute name="bacteria_total" internal="true" />
	      <columnAttribute name="bacteria_percent" internal="true" />
	      <columnAttribute name="fungi_actual" internal="true" />
	      <columnAttribute name="fungi_total" internal="true" />
	      <columnAttribute name="fungi_percent" internal="true" />
	      <columnAttribute name="euglenozoa_actual" internal="true" />
	      <columnAttribute name="euglenozoa_total" internal="true" />
	      <columnAttribute name="euglenozoa_percent" internal="true" />
	      <columnAttribute name="metazoa_actual" internal="true" />
	      <columnAttribute name="metazoa_total" internal="true" />
	      <columnAttribute name="metazoa_percent" internal="true" />
	      <columnAttribute name="viridiplantae_actual" internal="true" />
	      <columnAttribute name="viridiplantae_total" internal="true" />
	      <columnAttribute name="viridiplantae_percent" internal="true" />
	      <columnAttribute name="other_eukaryotes_actual" internal="true" />
	      <columnAttribute name="other_eukaryotes_total" internal="true" />
	      <columnAttribute name="other_eukaryotes_percent" internal="true" />
	      <columnAttribute name="bacteria_firm_actual" internal="true" />
	      <columnAttribute name="bacteria_firm_total" internal="true" />
	      <columnAttribute name="bacteria_proa_actual" internal="true" />
	      <columnAttribute name="bacteria_proa_total" internal="true" />
	      <columnAttribute name="bacteria_prob_actual" internal="true" />
	      <columnAttribute name="bacteria_prob_total" internal="true" />
	      <columnAttribute name="bacteria_prod_actual" internal="true" />
	      <columnAttribute name="bacteria_prod_total" internal="true" />
	      <columnAttribute name="bacteria_proe_actual" internal="true" />
	      <columnAttribute name="bacteria_proe_total" internal="true" />
	      <columnAttribute name="bacteria_prog_actual" internal="true" />
	      <columnAttribute name="bacteria_prog_total" internal="true" />
	      <columnAttribute name="bacteria_obac_actual" internal="true" />
	      <columnAttribute name="bacteria_obac_total" internal="true" />
	      <columnAttribute name="archaea_arch_actual" internal="true" />
	      <columnAttribute name="archaea_arch_total" internal="true" />
	      <columnAttribute name="archaea_eury_actual" internal="true" />
	      <columnAttribute name="archaea_eury_total" internal="true" />
	      <columnAttribute name="archaea_cren_actual" internal="true" />
	      <columnAttribute name="archaea_cren_total" internal="true" />
	      <columnAttribute name="archaea_nano_actual" internal="true" />
	      <columnAttribute name="archaea_nano_total" internal="true" />
	      <columnAttribute name="archaea_kora_actual" internal="true" />
	      <columnAttribute name="archaea_kora_total" internal="true" />
	      <columnAttribute name="oeuk_genera_html" internal="true" />
	      <columnAttribute name="eugl_genera_html" internal="true" />
	      <columnAttribute name="amoe_genera_html" internal="true" />
	      <columnAttribute name="alveolata_alve_actual" internal="true" />
	      <columnAttribute name="alveolata_alve_total" internal="true" />
	      <columnAttribute name="alveolata_cili_actual" internal="true" />
	      <columnAttribute name="alveolata_cili_total" internal="true" />
	      <columnAttribute name="alveolata_apic_actual" internal="true" />
	      <columnAttribute name="alveolata_apic_total" internal="true" />
	      <columnAttribute name="alveolata_cocc_actual" internal="true" />
	      <columnAttribute name="alveolata_cocc_total" internal="true" />
	      <columnAttribute name="alveolata_haem_actual" internal="true" />
	      <columnAttribute name="alveolata_haem_total" internal="true" />
	      <columnAttribute name="alveolata_piro_actual" internal="true" />
	      <columnAttribute name="alveolata_piro_total" internal="true" />
	      <columnAttribute name="viridiplantae_stre_actual" internal="true" />
	      <columnAttribute name="viridiplantae_stre_total" internal="true" />
	      <columnAttribute name="viridiplantae_chlo_actual" internal="true" />
	      <columnAttribute name="viridiplantae_chlo_total" internal="true" />
	      <columnAttribute name="viridiplantae_rhod_actual" internal="true" />
	      <columnAttribute name="viridiplantae_rhod_total" internal="true" />
	      <columnAttribute name="viridiplantae_cryp_actual" internal="true" />
	      <columnAttribute name="viridiplantae_cryp_total" internal="true" />
	      <columnAttribute name="fungi_fung_actual" internal="true" />
	      <columnAttribute name="fungi_fung_total" internal="true" />
	      <columnAttribute name="fungi_micr_actual" internal="true" />
	      <columnAttribute name="fungi_micr_total" internal="true" />
	      <columnAttribute name="fungi_basi_actual" internal="true" />
	      <columnAttribute name="fungi_basi_total" internal="true" />
	      <columnAttribute name="fungi_asco_actual" internal="true" />
	      <columnAttribute name="fungi_asco_total" internal="true" />
	      <columnAttribute name="fungi_muco_actual" internal="true" />
	      <columnAttribute name="fungi_muco_total" internal="true" />
	      <columnAttribute name="fungi_chyt_actual" internal="true" />
	      <columnAttribute name="fungi_chyt_total" internal="true" />
	      <columnAttribute name="metazoa_omet_actual" internal="true" />
	      <columnAttribute name="metazoa_omet_total" internal="true" />
	      <columnAttribute name="metazoa_nema_actual" internal="true" />
	      <columnAttribute name="metazoa_nema_total" internal="true" />
	      <columnAttribute name="metazoa_arth_actual" internal="true" />
	      <columnAttribute name="metazoa_arth_total" internal="true" />
	      <columnAttribute name="metazoa_chor_actual" internal="true" />
	      <columnAttribute name="metazoa_chor_total" internal="true" />
	      <columnAttribute name="metazoa_acti_actual" internal="true" />
	      <columnAttribute name="metazoa_acti_total" internal="true" />
	      <columnAttribute name="metazoa_aves_actual" internal="true" />
	      <columnAttribute name="metazoa_aves_total" internal="true" />
	      <columnAttribute name="metazoa_mamm_actual" internal="true" />
	      <columnAttribute name="metazoa_mamm_total" internal="true" />
	      <columnAttribute name="metazoa_tuni_actual" internal="true" />
	      <columnAttribute name="metazoa_tuni_total" internal="true" />

            </attributeQueryRef>

            <textAttribute name="alveolata" displayName="Alveolata" truncateTo="100000" >
	      <display>
                  <![CDATA[
		      <div class="phyletic-distribution-tooltip" style="display: flex; width: 8em; align-items: flex-end; padding: 0.5em;">
		          <span class="phyletic-distribution-tooltiptext"><div style="text-align:center";><b>ALVEOLATA</b></div>
				Ciliates: <span style="float:right;">$$alveolata_cili_actual$$ / $$alveolata_cili_total$$</span><br>
			        Apicomplexa<br>
				&emsp;Haemosporida: <span style="float:right;">$$alveolata_haem_actual$$ / $$alveolata_haem_total$$</span><br>
				&emsp;Coccidia: <span style="float:right;">$$alveolata_cocc_actual$$ / $$alveolata_cocc_total$$</span><br>
				&emsp;Piroplasmida: <span style="float:right;">$$alveolata_piro_actual$$ / $$alveolata_piro_total$$</span><br>
				&emsp;Other apicomplexa: <span style="float:right;">$$alveolata_apic_actual$$ / $$alveolata_apic_total$$</span><br>
				Other alveolata: <span style="float:right;">$$alveolata_alve_actual$$ / $$alveolata_alve_total$$</span>
			  </span>
			  <div style="width: 100%; height: 1em; background-color: white; border: 1px solid gray;">
			      <div style="width: $$alveolata_percent$$%; height: 100%; background-color: #CC3399;">
			      </div>
			  </div>
		      </div>
		      <div style="padding: 0.5em 0.25em;"; align-items: center>
			   $$alveolata_actual$$ / $$alveolata_total$$ ($$alveolata_percent$$%)
		      </div>
		  ]]>
	      </display>
              <text>
                  <![CDATA[
			   $$alveolata_percent$$
		  ]]>
              </text>
            </textAttribute>

            <textAttribute name="archaea" displayName="Archaea" truncateTo="100000" >
	      <display>
                  <![CDATA[
		      <div class="phyletic-distribution-tooltip" style="display: flex; width: 8em; align-items: flex-end; padding: 0.5em;">
		          <span class="phyletic-distribution-tooltiptext"><div style="text-align:center";><b>ARCHAEA</b></div>
			       Euryarchaeota: <span style="float:right;">$$archaea_eury_actual$$ / $$archaea_eury_total$$</span><br>
			       Crenarchaeota: <span style="float:right;">$$archaea_cren_actual$$ / $$archaea_cren_total$$</span><br>
			       Nanoarchaeota: <span style="float:right;">$$archaea_nano_actual$$ / $$archaea_nano_total$$</span><br>
			       Korarchaeota: <span style="float:right;">$$archaea_kora_actual$$ / $$archaea_kora_total$$</span><br>
			       Other archaea: <span style="float:right;">$$archaea_arch_actual$$ / $$archaea_arch_total$$</span>
			  </span>
			  <div style="width: 100%; height: 1em; background-color: white; border: 1px solid gray;">
			      <div style="width: $$archaea_percent$$%; height: 100%; background-color: #77CCDD;">
			      </div>
			  </div>
		      </div>
		      <div style="padding: 0.5em 0.25em;"; align-items: center>
			   $$archaea_actual$$ / $$archaea_total$$ ($$archaea_percent$$%)
		      </div>
		  ]]>
	      </display>
              <text>
                  <![CDATA[
			   $$archaea_percent$$
		  ]]>
              </text>
            </textAttribute>

            <textAttribute name="amoeba" displayName="Amoeba" truncateTo="100000" >
	      <display>
                  <![CDATA[
		      <div class="phyletic-distribution-tooltip" style="display: flex; width: 8em; align-items: flex-end; padding: 0.5em;">
		          <span class="phyletic-distribution-tooltiptext"><div style="text-align:center";><b>AMOEBA genera</b></div>
			        $$amoe_genera_html$$
			  </span>
			  <div style="width: 100%; height: 1em; background-color: white; border: 1px solid gray;">
			      <div style="width: $$amoeba_percent$$%; height: 100%; background-color: #3399CC;">
			      </div>
			  </div>
		      </div>
		      <div style="padding: 0.5em 0.25em;"; align-items: center>
			   $$amoeba_actual$$ / $$amoeba_total$$ ($$amoeba_percent$$%)
		      </div>
		  ]]>
	      </display>
              <text>
                  <![CDATA[
			   $$amoeba_percent$$
		  ]]>
              </text>
            </textAttribute>

            <textAttribute name="bacteria" displayName="Bacteria" truncateTo="100000" >
	      <display>
                  <![CDATA[
		      <div class="phyletic-distribution-tooltip" style="display: flex; width: 8em; align-items: flex-end; padding: 0.5em;">
		          <span class="phyletic-distribution-tooltiptext"><div style="text-align:center";><b>BACTERIA</b></div>
			       Firmicutes: <span style="float:right;">$$bacteria_firm_actual$$ / $$bacteria_firm_total$$</span><br>
			       alpha-Proteobacteria: <span style="float:right;">$$bacteria_proa_actual$$ / $$bacteria_proa_total$$</span><br>
			       beta-Proteobacteria: <span style="float:right;">$$bacteria_prob_actual$$ / $$bacteria_prob_total$$</span><br>
			       gamma-Proteobacteria: <span style="float:right;">$$bacteria_prog_actual$$ / $$bacteria_prog_total$$</span><br>
			       delta-Proteobacteria: <span style="float:right;">$$bacteria_prod_actual$$ / $$bacteria_prod_total$$</span><br>
			       epsilon-Proteobacteria: <span style="float:right;">$$bacteria_proe_actual$$ / $$bacteria_proe_total$$</span><br>
			       Other bacteria: <span style="float:right;">$$bacteria_obac_actual$$ / $$bacteria_obac_total$$</span>
			  </span>
			  <div style="width: 100%; height: 1em; background-color: white; border: 1px solid gray;">
			      <div style="width: $$bacteria_percent$$%; height: 100%; background-color: #9999CC;">
			      </div>
			  </div>
		      </div>
		      <div style="padding: 0.5em 0.25em;"; align-items: center>
			   $$bacteria_actual$$ / $$bacteria_total$$ ($$bacteria_percent$$%)
		      </div>
		  ]]>
	      </display>
              <text>
                  <![CDATA[
			   $$bacteria_percent$$
		  ]]>
              </text>
            </textAttribute>

            <textAttribute name="fungi" displayName="Fungi" truncateTo="100000" >
	      <display>
                  <![CDATA[
		      <div class="phyletic-distribution-tooltip" style="display: flex; width: 8em; align-items: flex-end; padding: 0.5em;">
		          <span class="phyletic-distribution-tooltiptext"><div style="text-align:center";><b>FUNGI</b></div>
			       Microsporidia: <span style="float:right;">$$fungi_micr_actual$$ / $$fungi_micr_total$$</span><br>
			       Basidiomycota: <span style="float:right;">$$fungi_basi_actual$$ / $$fungi_basi_total$$</span><br>
			       Ascomycota: <span style="float:right;">$$fungi_asco_actual$$ / $$fungi_asco_total$$</span><br>
			       Mucoromycota: <span style="float:right;">$$fungi_muco_actual$$ / $$fungi_muco_total$$</span><br>
			       Chytridiomycota: <span style="float:right;">$$fungi_chyt_actual$$ / $$fungi_chyt_total$$</span><br>
			       Other fungi: <span style="float:right;">$$fungi_fung_actual$$ / $$fungi_fung_total$$</span>
			  </span>
			  <div style="width: 100%; height: 1em; background-color: white; border: 1px solid gray;">
			      <div style="width: $$fungi_percent$$%; height: 100%; background-color: #AA44DD;">
			      </div>
			  </div>
		      </div>
		      <div style="padding: 0.5em 0.25em;"; align-items: center>
			   $$fungi_actual$$ / $$fungi_total$$ ($$fungi_percent$$%)
		      </div>
		  ]]>
	      </display>
              <text>
                  <![CDATA[
			   $$fungi_percent$$
		  ]]>
              </text>
            </textAttribute>

            <textAttribute name="euglenozoa" displayName="Euglenozoa" truncateTo="100000" >
	      <display>
                  <![CDATA[
		      <div class="phyletic-distribution-tooltip" style="display: flex; width: 8em; align-items: flex-end; padding: 0.5em;">
		          <span class="phyletic-distribution-tooltiptext"><div style="text-align:center";><b>EUGLENOZOA genera</b></div>
			        $$eugl_genera_html$$
			  </span>
			  <div style="width: 100%; height: 1em; background-color: white; border: 1px solid gray;">
			      <div style="width: $$euglenozoa_percent$$%; height: 100%; background-color: #CCCC66;">
			      </div>
			  </div>
		      </div>
		      <div style="padding: 0.5em 0.25em;"; align-items: center>
			   $$euglenozoa_actual$$ / $$euglenozoa_total$$ ($$euglenozoa_percent$$%)
		      </div>
		  ]]>
	      </display>
              <text>
                  <![CDATA[
			   $$euglenozoa_percent$$
		  ]]>
              </text>
            </textAttribute>

            <textAttribute name="metazoa" displayName="Metazoa" truncateTo="100000" >
	      <display>
                  <![CDATA[
		      <div class="phyletic-distribution-tooltip" style="display: flex; width: 8em; align-items: flex-end; padding: 0.5em;">
		          <span class="phyletic-distribution-tooltiptext"><div style="text-align:center";><b>METAZOA</b></div>
			       Nematoda: <span style="float:right;">$$metazoa_nema_actual$$ / $$metazoa_nema_total$$</span><br>
			       Arthropoda: <span style="float:right;">$$metazoa_arth_actual$$ / $$metazoa_arth_total$$</span><br>
			       Chordata<br>
			       &emsp;Actinopterygii: <span style="float:right;">$$metazoa_acti_actual$$ / $$metazoa_acti_total$$</span><br>
			       &emsp;Aves: <span style="float:right;">$$metazoa_aves_actual$$ / $$metazoa_aves_total$$</span><br>
			       &emsp;Mammalia: <span style="float:right;">$$metazoa_mamm_actual$$ / $$metazoa_mamm_total$$</span><br>
			       &emsp;Tunicates: <span style="float:right;">$$metazoa_tuni_actual$$ / $$metazoa_tuni_total$$</span><br>
			       &emsp;Other chordata: <span style="float:right;">$$metazoa_chor_actual$$ / $$metazoa_chor_total$$</span><br>
			       Other metazoa: <span style="float:right;">$$metazoa_omet_actual$$ / $$metazoa_omet_total$$</span>
			  </span>
			  <div style="width: 100%; height: 1em; background-color: white; border: 1px solid gray;">
			      <div style="width: $$metazoa_percent$$%; height: 100%; background-color: #CC6666;">
			      </div>
			  </div>
		      </div>
		      <div style="padding: 0.5em 0.25em;"; align-items: center>
			   $$metazoa_actual$$ / $$metazoa_total$$ ($$metazoa_percent$$%)
		      </div>
		  ]]>
	      </display>
              <text>
                  <![CDATA[
			   $$metazoa_percent$$
		  ]]>
              </text>
            </textAttribute>

            <textAttribute name="viridiplantae" displayName="Viridiplantae" truncateTo="100000" >
	      <display>
                  <![CDATA[
		      <div class="phyletic-distribution-tooltip" style="display: flex; width: 8em; align-items: flex-end; padding: 0.5em;">
		          <span class="phyletic-distribution-tooltiptext"><div style="text-align:center";><b>VIRIDIPLANTAE</b></div>
			       Streptophyta: <span style="float:right;">$$viridiplantae_stre_actual$$ / $$viridiplantae_stre_total$$</span><br>
			       Chlorophyta: <span style="float:right;">$$viridiplantae_chlo_actual$$ / $$viridiplantae_chlo_total$$</span><br>
			       Rhodophyta: <span style="float:right;">$$viridiplantae_rhod_actual$$ / $$viridiplantae_rhod_total$$</span><br>
			       Cryptophyta: <span style="float:right;">$$viridiplantae_cryp_actual$$ / $$viridiplantae_cryp_total$$</span>
			  </span>
			  <div style="width: 100%; height: 1em; background-color: white; border: 1px solid gray;">
			      <div style="width: $$viridiplantae_percent$$%; height: 100%; background-color: #CC9933;">
			      </div>
			  </div>
		      </div>
		      <div style="padding: 0.5em 0.25em;"; align-items: center>
			   $$viridiplantae_actual$$ / $$viridiplantae_total$$ ($$viridiplantae_percent$$%)
		      </div>
		  ]]>
	      </display>
              <text>
                  <![CDATA[
			   $$viridiplantae_percent$$
		  ]]>
              </text>
            </textAttribute>

            <textAttribute name="other_eukaryotes" displayName="Other_Eukaryotes" truncateTo="100000" >
	      <display>
                  <![CDATA[
		      <div class="phyletic-distribution-tooltip" style="display: flex; width: 8em; align-items: flex-end; padding: 0.5em;">
		          <span class="phyletic-distribution-tooltiptext"><div style="text-align:center";><b>OTHER EUKARYOTES genera</b></div>
			       $$oeuk_genera_html$$
			  </span>			  
			  <div style="width: 100%; height: 1em; background-color: white; border: 1px solid gray;">
			      <div style="width: $$other_eukaryotes_percent$$%; height: 100%; background-color: #CC9999;">
			      </div>
			  </div>
		      </div>
		      <div style="padding: 0.5em 0.25em;"; align-items: center>
			   $$other_eukaryotes_actual$$ / $$other_eukaryotes_total$$ ($$other_eukaryotes_percent$$%)
		      </div>
		  ]]>
	      </display>
              <text>
                  <![CDATA[
			   $$other_eukaryotes_percent$$
		  ]]>
              </text>
            </textAttribute>

<!--
            <attributeQueryRef ref="GroupAttributes.Layout">
                <columnAttribute name="layout" displayName="Layout" internal="true" inReportMaker="false" />
            </attributeQueryRef>

-->

            <attributeQueryRef ref="GroupAttributes.EcNumbers">
                <columnAttribute name="ec_numbers" displayName="EC Numbers"  help="Number of proteins in parentheses." />
            </attributeQueryRef>


            <attributeQueryRef ref="GroupAttributes.Keywords">
                <columnAttribute name="keywords" displayName="Keywords" help="Words found in at least 50% of protein descriptions." >
		  <reporter name="wordCloud" displayName="Word Cloud" scopes=""
			    implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
                    <description>
                      <![CDATA[ Display the terms in the attribute as word clouds ]]>
                    </description>
                    <property name="min-word-length">1</property>
                    <property name="exclude-numbers">false</property>
                    <property name="split-pattern"><![CDATA[,]]></property>
		  </reporter>
		</columnAttribute>
            </attributeQueryRef>

            <attributeQueryRef ref="GroupAttributes.Domains">
                <columnAttribute name="descriptions" displayName="Top PFam Domains" help="Number of proteins in parentheses. Shown are the three most frequent domains (or more if there are ties in frequency)." >
		  <reporter name="wordCloud" displayName="Word Cloud" scopes=""
			    implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
                    <description>
                      <![CDATA[ Display the terms in the attribute as word clouds ]]>
                    </description>
                    <property name="min-word-length">1</property>
                    <property name="exclude-numbers">false</property>
                    <property name="split-pattern"><![CDATA[,]]></property>
		  </reporter>
		</columnAttribute>
            </attributeQueryRef>




            <textAttribute name="record_overview" displayName="Record Overview HTML">
              <text>
                  <![CDATA[
               <div class="eupathdb-RecordOverview">
                  <div class="eupathdb-RecordOverviewTitle">
                  </div>

                  <div class="eupathdb-RecordOverviewPanels">
                      <div class="eupathdb-RecordOverviewLeft">
                      <div class="eupathdb-RecordOverviewItem" data-label="Group Type">$$group_type$$</div>
                      <div class="eupathdb-RecordOverviewItem" data-label="Total Number of Proteins">$$number_of_members$$</div>

                      <div class="eupathdb-RecordOverviewItem" data-label="Number of Core Proteins">$$number_of_core_members$$</div>
                      <div class="eupathdb-RecordOverviewItem" data-label="Number of Peripheral Proteins">$$number_of_peripheral_members$$</div>
                      <div class="eupathdb-RecordOverviewItem" data-label="Keywords">$$keywords$$</div>
                      <div class="eupathdb-RecordOverviewItem" data-label="EC Numbers">$$ec_numbers$$</div>
                      <div class="eupathdb-RecordOverviewItem" data-label="Top PFam Domains">$$descriptions$$</div>
                      </div>
                  </div>
              </div>
          ]]>

              </text>





            </textAttribute>


      <!-- =============================================================== -->
      <!-- Tables -->
      <!-- =============================================================== -->

            <table name="TaxonCounts" inReportMaker="false"
                   displayName="Phlyetic Distribution of Proteins"
                   queryRef="GroupTables.TaxonCounts"
		   help="Numbers refer to the number of proteins in that organism or taxonomic group. In order to see organisms and taxonomic groups without proteins in this ortholog group, uncheck 'Hide zero counts.'" >

                 <description><![CDATA[Numbers refer to the number of proteins in that organism or taxonomic group.]]></description>

                <columnAttribute name="taxon_id" displayName="Taxon ID" />
                <columnAttribute name="abbrev" displayName="Taxon Abbreviation" />
                <columnAttribute name="count" displayName="Count" />
            </table>

            <!--
            <table name="Statistics" inReportMaker="false"
                   displayName="Group Statistics"
                   queryRef="GroupTables.Statistics">
                <columnAttribute name="group_type" displayName="Protein types" help="A core protein is from one of the 150 core species that were initially used to form 'core' groups. A peripheral protein is from a peripheral species whose entire proteome was mapped into the 'core' groups. Peripheral proteins that do not map into a 'core' group are placed into residuals groups."/>
                <columnAttribute name="number_of_members" displayName="# Proteins" />
                <columnAttribute name="avg_percent_match" displayName="Avg % Match" help="The % Match is calculated between two proteins by determining the percentage of the shorter protein sequence that is part of a High-scoring Segment Pair (HSP) with the other protein. The Avg % Match takes the average of all % Match results in the group."/>
                <columnAttribute name="avg_percent_identity" displayName="Avg % Identity" help="The % Identity is calculated between two proteins by determining the percentage of residues within the best High-scoring Segment Pair (HSP) that are identical. The Avg % Identity takes the average of all % Identity results in the group." />
                <columnAttribute name="number_of_match_pairs" displayName="Num Pairs With Similarity" help="The total number of protein pairs where the NCBI BLASTP E-Value is less than 1e-5 and the percent match length is at least 50%."/>
                <columnAttribute name="max_match_pairs" displayName="Max Possible Pairs" help="The maximum number of unique protein pairs that are possible in the group, equal to n*(n-1)/2, where n = number of proteins in the group."/>
                <columnAttribute name="percent_match_pairs" displayName="% Protein Pairs With Similarity" help="The percent of sequence pairs in a group that have an above-threshold similarity (NCBI BLASTP E-Value is less than 1e-5 and the percent match length is at least 50%)."/>
                <columnAttribute name="avg_connectivity" displayName="% Homology" help="The percentage of all possible protein pairs where the two proteins are orthologs, co-orthologs, or inparalogs." />
                <columnAttribute name="evalue_display" displayName="Average BLAST E-value" help="The average BLAST E-value for protein pairs, considering only pairs where the two proteins are considered similar (E-Value less than 1e-5 and percent match length at least 50%)." />
                <columnAttribute name="evalue" displayName="Average BLAST E-value Actual" internal="true" />
            </table>
-->

            <table name="Sequences"
                   displayName="List of All Proteins"
                   queryRef="GroupTables.Proteins">
              <description><![CDATA[This section features a Clustal Omega alignment tool (max 1000 sequences) and a tree visualization of proteins in this group. The Pfam Legend table and/or the Protein Table can be used to choose proteins  included in these features. For example, 
              <ul>
              <li>Select one or more Pfam groups from the Pfam Legend table.</li>
              <li>Select Core Only, Peripheral Only or Core & Peripheral using the buttons above the Protein Table.</li>
              <li>Select individual proteins from the Protein Table which includes a table filter at the top to aid in finding proteins of interest.</li>
              </ul>
              The tree visualization is automatically updated with each selection. To run a Clustal Omega alignment after proteins are selected, choose the ‘Output format’ below the Protein List table and click the ‘Run Clustal Omega for selected genes’ button.]]>
              </description>
              <textAttribute name="clustalInput" displayName="Clustal Omega" inReportMaker="false" help="Select proteins to submit to clustal Omega at bottom of this table">
                <text>
                  <![CDATA[
                           <input type="checkbox" name="msa_full_ids" value="$$full_id$$">
                  ]]>
                </text>
              </textAttribute>
              <linkAttribute displayName="Accession" name="sequence_link" inReportMaker="false" internal="false" help="Taxon-abbreviation|Protein-Id. Click to visit this protein's page at OrthoMCL.">
                <displayText>
                  <![CDATA[ $$full_id$$  ]]>
                </displayText>
                <url>
                  <![CDATA[
                           @LEGACY_WEBAPP_BASE_URL@/app/record/sequence/$$full_id$$
                  ]]>
                </url>
              </linkAttribute>

              <columnAttribute name="description" displayName="Description" >
                <reporter name="wordCloud" displayName="Word Cloud" scopes=""
                          implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
                  <description>
                    <![CDATA[ Display the terms in the attribute as word clouds ]]>
                  </description>
                  <property name="min-word-length">1</property>
                  <property name="exclude-numbers">false</property>
                  <property name="split-pattern"><![CDATA[,]]></property>
                </reporter>
              </columnAttribute>

              <columnAttribute name="organism_name" displayName="Organism" >
                <reporter name="wordCloud" displayName="Word Cloud" scopes=""
                          implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
                  <description>
                    <![CDATA[ Display the terms in the attribute as word clouds ]]>
                  </description>
                  <property name="min-word-length">1</property>
                  <property name="exclude-numbers">false</property>
                  <property name="split-pattern"><![CDATA[,]]></property>
                </reporter>
              </columnAttribute>

              <columnAttribute name="taxon_group" displayName="Taxon" help="The taxonomic category of the organism." />

              <columnAttribute name="core_peripheral" displayName="Core/Peripheral" help="Whether the protein is from a core or peripheral species." />

              <columnAttribute name="length" displayName="Length" help="Length of protein in amino acids" >
                <reporter name="histogram" displayName="Histogram" scopes=""
                          implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter" >
                  <description>Display the histogram of the values of this attribute</description>
                </reporter>
              </columnAttribute>

              <columnAttribute name="ec_numbers" displayName="EC Numbers" />
              <!--
              <columnAttribute name="previous_groups" displayName="Previous Groups" help="Previous OrthoMCL ortholog groups containing this protein." />
              -->
              <columnAttribute name="full_id" internal="true" />
              <columnAttribute name="taxon_abbrev" displayName="Taxon Abbreviation" internal="true" inReportMaker="false" />
            </table>
            
            <table name="PFams"
                   displayName="PFam Legend"
                   queryRef="GroupTables.PFams">
                <columnAttribute name="accession" displayName="Accession Number" />

<!-- TODO:  add back when/if we get domain short name
                <columnAttribute name="symbol" displayName="Symbol" />
-->
                <columnAttribute name="description" displayName="Description" />
                <columnAttribute name="num_proteins" displayName="Count" help="Number of proteins that contain this domain." />
                <columnAttribute name="domain_index" internal="true" />
                <columnAttribute name="max_index" internal="true" />
            </table>

            <table name="ProteinPFams"
                   displayName="PFam Architecture of Each Protein"
                   queryRef="GroupTables.ProteinPFams">
                <columnAttribute name="accession" displayName="Accession Number" />
<!-- TODO:  add back when/if we get domain short name
                <columnAttribute name="symbol" displayName="Symbol" />
-->
                <columnAttribute name="full_id" displayName="Source Id" />
                <columnAttribute name="taxon_name" displayName="Taxon" />
                <columnAttribute name="core_peripheral" displayName="Core/Peripheral" />

                <columnAttribute name="protein_length" displayName="Length (aa)" >
          <reporter name="histogram" displayName="Histogram" scopes=""
                implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter" >
                    <description>Display the histogram of the values of this attribute</description>
          </reporter>
        </columnAttribute>

                <columnAttribute name="start_min" displayName="End" />
                <columnAttribute name="end_max" displayName="Start" />
                <columnAttribute name="domain_index" internal="true" />
            </table>

            <table name="EcNumber"
                   displayName="Summary of EC Numbers"
                   queryRef="GroupTables.EcNumber">
              <columnAttribute name="ec_number" internal="true" inReportMaker="true"/>
              <linkAttribute name="ec_number_link" inReportMaker="false"
                             displayName="EC Number">
                   <displayText>
                      <![CDATA[
                      $$ec_number$$
                      ]]>
                   </displayText>
                   <url>
                      <![CDATA[http://enzyme.expasy.org/EC/$$ec_number$$]]>
                   </url>
              </linkAttribute>
              <columnAttribute displayName="EC Description"
                               name="description"/>
              <columnAttribute name="sequence_count" displayName="# Proteins"/>
            </table>

            <table name="SimilarGroup"
                   displayName="Similar Groups"
                   queryRef="GroupTables.SimilarGroup">
              <columnAttribute name="similar_group" internal="true" inReportMaker="true"/>
              <columnAttribute name="evalue" inReportMaker="true" displayName="E-value"/>
              <columnAttribute name="protein_count" inReportMaker="true" displayName="# Proteins"/>
              <columnAttribute name="keyword" inReportMaker="true" displayName="Keyword"/>
              <linkAttribute name="similar_group_link" inReportMaker="false"
                             displayName="Similar Group ID">
                   <displayText>
                      <![CDATA[
                      $$similar_group$$
                      ]]>
                   </displayText>
                   <url>
                      <![CDATA[https://qa.orthomcl.org/orthomcl/app/record/group/$$similar_group$$]]>
                   </url>
              </linkAttribute>
            </table>

            <table name="GroupStat"
                   displayName="Group Statistics"
                   queryRef="GroupTables.GroupStat"
                   help="Group Statistics are a measure of cohesiveness for the proteins in an orthogroup. A pairwise BLAST e-value is computed between each protein and the Representative Sequence, which is the centroid of the group. A tight group will have a highly significant median of these pairwise e-values and also a significant maximum e-value (ie. less than 1e-10, since smaller e-values are more significant). The maximum e-value is a measure of the distance between the most dissimilar protein compared to the Representative Sequence.">
              <columnAttribute name="group_name" internal="true" inReportMaker="true"/>
              <columnAttribute name="stat_type" inReportMaker="true" displayName="Type"/>
              <columnAttribute name="evalue" inReportMaker="true" displayName="E-value"/>
              <columnAttribute name="group_type" inReportMaker="true" displayName="Protein Subset"/>
            </table>

            <table name="GroupName"
                   queryRef="GroupTables.GroupName">
              <columnAttribute name="name_string" internal="true" inReportMaker="true"/>
            </table>


            <table name="KeywordFrequency" internal="true"
		   displayName="Keyword Frequency"
                   queryRef="GroupTables.KeywordFrequency">
              <columnAttribute name="keyword"/>
              <columnAttribute name="frequency"/>
            </table>


            <table name="DomainFrequency" internal="true"
		   displayName="Domain Frequency"
                   queryRef="GroupTables.DomainFrequency">
              <columnAttribute name="keyword"/>
              <columnAttribute name="frequency"/>
            </table>


          <table name="PhyleticDistributionCounts"
                 displayName="Phyletic Distribution clade abundance"
                 queryRef="GroupTables.PhyleticDistributionCounts">
              <columnAttribute name="group_name" internal="true" />
	      <columnAttribute name="alveolata_actual"  />
	      <columnAttribute name="alveolata_total"  />
	      <columnAttribute name="alveolata_percent"  />
	      <columnAttribute name="archaea_actual"  />
	      <columnAttribute name="archaea_total"  />
	      <columnAttribute name="archaea_percent"  />
	      <columnAttribute name="amoeba_actual"  />
	      <columnAttribute name="amoeba_total"  />
	      <columnAttribute name="amoeba_percent"  />
	      <columnAttribute name="bacteria_actual"  />
	      <columnAttribute name="bacteria_total"  />
	      <columnAttribute name="bacteria_percent"  />
	      <columnAttribute name="fungi_actual"  />
	      <columnAttribute name="fungi_total"  />
	      <columnAttribute name="fungi_percent"  />
	      <columnAttribute name="euglenozoa_actual"  />
	      <columnAttribute name="euglenozoa_total"  />
	      <columnAttribute name="euglenozoa_percent"  />
	      <columnAttribute name="metazoa_actual"  />
	      <columnAttribute name="metazoa_total"  />
	      <columnAttribute name="metazoa_percent"  />
	      <columnAttribute name="viridiplantae_actual"  />
	      <columnAttribute name="viridiplantae_total"  />
	      <columnAttribute name="viridiplantae_percent"  />
	      <columnAttribute name="other_eukaryotes_actual"  />
	      <columnAttribute name="other_eukaryotes_total"  />
	      <columnAttribute name="other_eukaryotes_percent"  />

            </table>



        </recordClass>

    </recordClassSet>

</wdkModel>
